{% extends "base.html" %}

{% block main %}
<style>
    body { font-family: Arial, sans-serif; background: #e9eef3; }
    .card {
        background: #ffffff; max-width: 420px; margin: 70px auto;
        padding: 30px 35px; border-radius: 10px;
        box-shadow: 2px 2px 8px #c9c9c9;
    }
    h1 { text-align: center; color: #333; margin-bottom: 20px; }
    label { display: block; margin-top: 12px; font-weight: 600; color: #333; }
    input {
        width: 100%; padding: 8px; margin-top: 5px;
        border: 1px solid #bbb; border-radius: 6px; font-size: 15px;
    }
    select {width: 104%;
        padding: 8px;
        border: 1px solid #bbb;
        border-radius: 4px;
        background-color: #fafafa;
        font-size: 15px;
        color: #333;
    }
    button {
        width: 100%; padding: 10px; margin-top: 20px;
        background: #4a7cd1; color: #fff; border: none;
        border-radius: 6px; font-weight: bold; cursor: pointer;
    }
    button:hover { background: #3b6bb8; }
    .error, .success {
        margin-top: 15px; padding: 10px; border-radius: 6px; text-align: center;
    }
    .error { background: #ffe5e5; color: #a40000; }
    .success { background: #e7f8e7; color: #107022; }
    a { display: block; text-align: center; margin-top: 15px; color: #4a7cd1; text-decoration: none; }
    a:hover { text-decoration: underline; }
</style>

<div class="card">
    <h1>Редактирование профиля</h1>
    <form method="post">
        <label>Имя</label>
        <input type="text" name="name" value="{{ user.name }}">
        <label>Пол</label>
        <select name="gender">
            <option value="мужской" {% if user.gender == 'мужской' %}selected{% endif %}>Мужской</option>
            <option value="женский" {% if user.gender == 'женский' %}selected{% endif %}>Женский</option>
        </select>
        <label>Логин</label>
        <input type="text" name="login" value="{{ user.login }}">
        <label>Новый пароль</label>
        <input type="password" name="password">
        <label>Подтверждение пароля</label>
        <input type="password" name="confirm">
        <button type="submit">Сохранить</button>
        {% if error %}<div class="error">{{ error }}</div>{% endif %}
        {% if success %}<div class="success">{{ success }}</div>{% endif %}
    </form>
    <a href="/lab4/users">Назад к списку</a>
</div>
{% endblock %}
