{% extends "base.html" %}

{% block main %}
<style>
    body { font-family: Arial, sans-serif; background: #e9eef3; }
    .card {
        background: #ffffff;
        max-width: 400px;
        margin: 70px auto;
        padding: 25px 35px;
        border-radius: 10px;
        box-shadow: 2px 2px 8px #c9c9c9;
    }
    h1 { text-align: center; color: #333; margin-bottom: 20px; }
    label { display: block; margin-top: 12px; font-weight: 600; color: #333; }
    input {
        width: 100%; padding: 8px; margin-top: 5px;
        border: 1px solid #bbb; border-radius: 6px; font-size: 15px;
    }
    button {
        width: 100%; padding: 10px; margin-top: 20px;
        background: #4a7cd1; color: #fff; border: none;
        border-radius: 6px; font-weight: bold; cursor: pointer;
    }
    button:hover { background: #3b6bb8; }
    .error, .success {
        margin-top: 15px; padding: 10px; border-radius: 6px; text-align: center;
    }
    .error { background: #ffe5e5; color: #a40000; }
    .success { background: #e7f8e7; color: #107022; }
    a { display: block; text-align: center; margin-top: 15px; color: #4a7cd1; text-decoration: none; }
    a:hover { text-decoration: underline; }
</style>

<div class="card">
    {% if authorized %}
        <h1>Добро пожаловать, {{ name }}!</h1>
        <form action="/lab4/logout" method="post">
            <button>Выйти</button>
        </form>
        <a href="/lab4/users">Список пользователей</a>
    {% else %}
        <h1>Авторизация</h1>
        <form method="post">
            <label>Логин</label>
            <input type="text" name="login" value="{{ login or '' }}">
            <label>Пароль</label>
            <input type="password" name="password">
            <button type="submit">Войти</button>
            {% if error %}<div class="error">{{ error }}</div>{% endif %}
        </form>
        <a href="/lab4/register">Регистрация</a>
    {% endif %}
</div>
{% endblock %}
